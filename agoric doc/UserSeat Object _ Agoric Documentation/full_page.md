
 [Skip to content](#VPContent) [![](/agoric-logo-red.svg)Agoric Documentation](/)Search`K` Main Navigation Orchestrate[What is Agoric Orchestration?](/guides/orchestration/)[Key Concepts and APIs](/guides/orchestration/key-concepts.html)

Contract Walkthroughs

[Send Anywhere Example](/guides/orchestration/contract-walkthroughs/send-anywhere.html)[Cross-Chain Unbond Example](/guides/orchestration/contract-walkthroughs/cross-chain-unbond.html)

Example Orchestration DApp

[Installation and Deployment](/guides/orchestration/orchestration-basics/installation.html)[Orca Contract walkthrough](/guides/orchestration/orchestration-basics/contract.html)[UI Walkthrough](/guides/orchestration/orchestration-basics/ui.html)[How Orchestration Works](/guides/orchestration/how-orch-works.html)Build[Getting Started](/guides/getting-started/)[Smart Contract Basics](/guides/zoe/contract-basics.html)[UI Component Library](/guides/UIComponentLibrary/)[Building Client Dapps](/guides/getting-started/contract-rpc.html)[Permissioned Contract Deployment](/guides/coreeval/)[Integrating with Agoric Network](/guides/integration/chain-integration.html)[Agoric CLI](/guides/agoric-cli/)[Agoric API Reference](https://agoric-sdk.pages.dev/)[Endo API Reference](https://endojs.github.io/endo/)[ERTP API](/reference/ertp-api/)[Zoe API](/reference/zoe-api/)[Example Zoe Contracts](/guides/zoe/contracts/)[End-to-End Testing](/e2e-testing.html)Learn[What is Agoric?](/what-is-agoric.html)[Agoric Platform](/guides/platform/)[Zoe Smart Contract Framework](/guides/zoe/)[ERTP](/guides/ertp/)[JavaScript Framework](/guides/js-programming/)[Deployed Zoe Contracts](/guides/zoe/actual-contracts/)[Glossary](/glossary/)[Papers](https://agoric.com/papers/)Tutorials[Tutorial: Dapp with Agoric](/guides/getting-started/tutorial/)[dapp-agoric-basics](/guides/getting-started/tutorial-dapp-agoric-basics.html)[UI Tutorial](/guides/getting-started/ui-tutorial/)Support[Agoric](https://agoric.com/)[Discord](https://agoric.com/discord)[Github Discussions (Q&A)](https://github.com/Agoric/agoric-sdk/discussions)[Office Hours](https://github.com/Agoric/agoric-sdk/wiki/Office-Hours)[Twitter](https://twitter.com/agoric)[YouTube](https://www.youtube.com/channel/UCpY91oQLh_Lp0mitdZ5bYWg/)[Github](https://github.com/Agoric/)

Appearance

MenuReturn to top Sidebar Navigation 

Orchestrate
-----------

[What is Agoric Orchestration?](/guides/orchestration/)[Key Concepts and APIs](/guides/orchestration/key-concepts.html)[### Contract Walkthroughs](/guides/orchestration/contract-walkthroughs/)[Send Anywhere Example](/guides/orchestration/contract-walkthroughs/send-anywhere.html)[Cross-Chain Unbond Example](/guides/orchestration/contract-walkthroughs/cross-chain-unbond.html)[### Example Orchestration DApp](/guides/orchestration/orchestration-basics/)[Installation and Deployment](/guides/orchestration/orchestration-basics/installation.html)[Orca Contract walkthrough](/guides/orchestration/orchestration-basics/contract.html)[UI Walkthrough](/guides/orchestration/orchestration-basics/ui.html)[How Orchestration Works](/guides/orchestration/how-orch-works.html)

Build
-----

[### Getting Started](/guides/getting-started/)[Takeaway 1: Starting a Local Chain](/guides/getting-started/explainer-how-to-start-a-local-chain.html)[Takeaway 2: Deploying a Smart Contract](/guides/getting-started/explainer-deploying-a-smart-contact.html)[Takeaway 3: Making an Offer](/guides/getting-started/explainer-how-to-make-an-offer.html)[### Smart Contract Basics](/guides/zoe/contract-basics.html)[Hello World Smart Contract](/guides/zoe/contract-hello.html)[State Smart Contract](/guides/zoe/contract-state.html)[Access Control Smart Contract](/guides/zoe/contract-access-control.html)[Complete Contract Walk-Through](/guides/zoe/contract-walkthru.html)[Durable Contract Details](/guides/zoe/contract-details.html)[Contract Upgrade](/guides/zoe/contract-upgrade.html)[Contract Governance](/guides/governance/)[UI Component Library](/guides/UIComponentLibrary/)[Building Client Dapps](/guides/getting-started/contract-rpc.html)[### Permissioned Contract Deployment](/guides/coreeval/)[Write Code to Deploy a Contract](/guides/coreeval/proposal.html)[Declare Required Capabilities](/guides/coreeval/permissions.html)[Submit Transactions](/guides/coreeval/local-testnet.html)[### Integrating with Agoric Network](/guides/integration/chain-integration.html)[Name Services: agoricNames, namesByAddress, board](/guides/integration/name-services.html)[SubQuery Indexing](/guides/subquery-indexing.html)[### Agoric CLI](/guides/agoric-cli/)[Agoric CLI Reference](/guides/agoric-cli/)[Using agd to make queries and transactions](/guides/agoric-cli/agd-query-tx.html)[Agoric API Reference](https://agoric-sdk.pages.dev/)[Endo API Reference](https://endojs.github.io/endo/)[### ERTP API](/reference/ertp-api/)[ERTP API](/reference/ertp-api/)[Issuer Object](/reference/ertp-api/issuer.html)[Mint Object](/reference/ertp-api/mint.html)[Brand Object](/reference/ertp-api/brand.html)[Purse Object](/reference/ertp-api/purse.html)[Payment Object](/reference/ertp-api/payment.html)[AmountMath Object](/reference/ertp-api/amount-math.html)[ERTP Data Types](/reference/ertp-api/ertp-data-types.html)[### Zoe API](/reference/zoe-api/)[Zoe API](/reference/zoe-api/)[Zoe Service](/reference/zoe-api/zoe.html)[UserSeat Object](/reference/zoe-api/user-seat.html)[Zoe Contract Facet (ZCF)](/reference/zoe-api/zoe-contract-facet.html)[ZCFSeat Object](/reference/zoe-api/zcfseat.html)[ZCFMint Object](/reference/zoe-api/zcfmint.html)[ZoeHelper Functions](/reference/zoe-api/zoe-helpers.html)[Ratio Math Functions](/reference/zoe-api/ratio-math.html)[Zoe Data Types](/reference/zoe-api/zoe-data-types.html)[### Example Zoe Contracts](/guides/zoe/contracts/)[Example Zoe Contracts](/guides/zoe/contracts/)[Oracle Query Contract](/guides/zoe/contracts/oracle.html)[Vault Contract](/guides/zoe/contracts/vault.html)[Loan Contract](/guides/zoe/contracts/loan.html)[Funded Call Spread Contract](/guides/zoe/contracts/fundedCallSpread.html)[Priced Call Spread Contract](/guides/zoe/contracts/pricedCallSpread.html)[Covered Call Contract](/guides/zoe/contracts/covered-call.html)[OTC Desk Contract](/guides/zoe/contracts/otc-desk.html)[ConstantProduct AMM Contract](/guides/zoe/contracts/constantProductAMM.html)[Sell Items Contract](/guides/zoe/contracts/sell-items.html)[Atomic Swap Contract](/guides/zoe/contracts/atomic-swap.html)[Barter Exchange Contract](/guides/zoe/contracts/barter-exchange.html)[Second-Price Auction Contract](/guides/zoe/contracts/second-price-auction.html)[Simple Exchange Contract](/guides/zoe/contracts/simple-exchange.html)[Escrow To Vote Contract](/guides/zoe/contracts/escrow-to-vote.html)[Mint Payments Contract](/guides/zoe/contracts/mint-payments.html)[Mint and Sell NFTs Contract](/guides/zoe/contracts/mint-and-sell-nfts.html)[Use Object Contract](/guides/zoe/contracts/use-obj-example.html)[Automatic Refund Contract](/guides/zoe/contracts/automatic-refund.html)[End-to-End Testing](/e2e-testing.html)

Learn
-----

[What is Agoric?](/what-is-agoric.html)[Agoric Platform](/guides/platform/)[Zoe Smart Contract Framework](/guides/zoe/)[### ERTP](/guides/ertp/)[Amounts, Values, and Brands](/guides/ertp/amounts.html)[AmountMath](/guides/ertp/amount-math.html)[Issuers and Mints](/guides/ertp/issuers-and-mints.html)[Purses and Payments](/guides/ertp/purses-and-payments.html)[JavaScript Framework](/guides/js-programming/)[### Deployed Zoe Contracts](/guides/zoe/actual-contracts/)[PSM Contract](/guides/zoe/actual-contracts/PSM.html)[PriceAuthority Object](/reference/zoe-api/price-authority.html)[Glossary](/glossary/)[Papers](https://agoric.com/papers/)

Tutorials
---------

[Tutorial: Dapp with Agoric](/guides/getting-started/tutorial/)[### dapp-agoric-basics](/guides/getting-started/tutorial-dapp-agoric-basics.html)[Takeaway 1: Sell Concert Tickets Contract Overview](/guides/getting-started/sell-concert-tickets-contract-explainer.html)[Takeaway 2: Swaparoo Contract Overview](/guides/getting-started/swaparoo-how-to-swap-assets-explainer.html)[Takeaway 3: Sending Invitation Payments using an Address](/guides/getting-started/swaparoo-making-a-payment-explainer.html)[### UI Tutorial](/guides/getting-started/ui-tutorial/)[1. Starting](/guides/getting-started/ui-tutorial/starting.html)[2. Agoric Provider](/guides/getting-started/ui-tutorial/agoric-provider.html)[3. Connect Wallet](/guides/getting-started/ui-tutorial/connect-wallet.html)[4. Querying Vstorage](/guides/getting-started/ui-tutorial/querying-vstorage.html)[5. Making an Offer](/guides/getting-started/ui-tutorial/making-an-offer.html)[6. Conclusion](/guides/getting-started/ui-tutorial/conclusion.html)

Support
-------

[Agoric](https://agoric.com/)[Discord](https://agoric.com/discord)[Discussions (Q&A)](https://github.com/Agoric/agoric-sdk/discussions)[Office Hours](https://github.com/Agoric/agoric-sdk/wiki/Office-Hours)[Twitter](https://twitter.com/agoric)[YouTube](https://www.youtube.com/channel/UCpY91oQLh_Lp0mitdZ5bYWg/)[Github](https://github.com/Agoric/)On this page

UserSeat Object [​](#userseat-object)
=====================================

Within Zoe, **seats** are used by contracts and users to access or manipulate offers. Zoe has two kinds of seats. **[ZCFSeats](./zcfseat.html)** are used within contracts and with **zcf** methods. **UserSeats** represent offers external to Zoe and the contract. The party who exercises an **[Invitation](./zoe-data-types.html#invitation)** and sends the **offer()** message to Zoe gets a **UserSeat** that can check payouts' status or retrieve the result of processing the offer in the contract. This varies, but examples are a **String** and an **Invitation** for another seat.

Also, a **UserSeat** can be handed to an agent outside Zoe and the contract, letting them query or monitor the current state, access the payouts and result, and, if it's allowed for this seat, call **tryExit()**.

Take care when sharing a **UserSeat**, since it includes authority to (attempt to) exit the seat.

These methods are all documented as returning Promises, since they are always called remotely, but that obscures the fact that they are expected to resolve at semantically different times. Some return a value promptly, and others return a promise that won't be fulfilled until the seat is exited. **getOfferResult()** resolves at the discretion of the contract. The descriptions below will call out explicitly the cases in which the value is not guaranteed to be resolved promptly.

**UserSeat** includes queries for the associated offer's current state and an operation to request that the offer exit, as follows:

E(UserSeat).getProposal() [​](#e-userseat-getproposal)
------------------------------------------------------

* Returns: **Promise<ProposalRecord>**

A **Proposal** is represented by a **ProposalRecord**. It is the rules accompanying the escrow of **[Payments](/reference/ertp-api/payment.html)** dictating what the user expects to get back from Zoe. It has keys **give**, **want**, and **exit**. **give** and **want** are records with **[Keywords](./zoe-data-types.html#keyword)** as keys and **[Amounts](/reference/ertp-api/ertp-data-types.html#amount)** as values. If it is compatible with the contract, the contract tries to satisfy it. If not, the contract kicks the **seat** out.

Offer safety is always enforced; if kicked out, the user gets back what they put in. If the contract attempts to satisfy it, they either get what they asked for or Zoe ensures they get back their deposit.

Example:

js
```
const { want, give, exit } = sellerSeat.getProposal();
```

E(UserSeat).getPayouts() [​](#e-userseat-getpayouts)
----------------------------------------------------

* Returns: **Promise<[PaymentPKeywordRecord](./zoe-data-types.html#keywordrecord)>**

Returns a **Promise** for a [KeywordRecord](./zoe-data-types.html#keywordrecord) containing **Promises** for all the **Payouts** associated with the **seat**'s offers. A **Payout** is a **[Payment](/reference/ertp-api/payment.html)** that goes to a party in a successful transaction, redirecting escrowed assets in accordance with the result of the transaction.

The promise will be resolved promptly once the seat exits.

E(UserSeat).getPayout(keyword) [​](#e-userseat-getpayout-keyword)
-----------------------------------------------------------------

* **keyword**: **[Keyword](./zoe-data-types.html#keyword)**
* Returns: **Promise<[Payment](/reference/ertp-api/payment.html)>**

Returns a **Promise** for the **Payout** associated with the *keyword* argument. A **Payout** is a **[Payment](/reference/ertp-api/payment.html)** that goes to a party in a successful transaction, redirecting escrowed assets in accordance with the result of the transaction.

The promise will be resolved promptly once the seat exits.

E(UserSeat).getOfferResult() [​](#e-userseat-getofferresult)
------------------------------------------------------------

* Returns: **Promise<OfferResult>**

Returns a **Promise** for an **OfferResult**. The **OfferResult** can be any **[Passable](/glossary/#passable)**. For example, in the [Automatic Refund](/guides/zoe/contracts/automatic-refund.html) example, it's the string "The offer was accepted". In the [Covered Call](/guides/zoe/contracts/covered-call.html) example, it's a call option, which is an assayable **[Invitation](./zoe-data-types.html#invitation)** to buy the underlying asset. Strings and invitations are the most common things returned. The value is the result returned by the **offerHandler** function passed in the first argument to [`zcf.makeInvitation(...)`](./zoe-contract-facet.html#zcf-makeinvitation-offerhandler-description-customdetails-proposalshape).

Since the contract can return whatever it wants as an offer result, there is no guarantee that the promise will resolve promptly.

E(UserSeat).hasExited() [​](#e-userseat-hasexited)
--------------------------------------------------

* Returns: **Promise<Boolean>**

Returns **true** if the seat has exited, **false** if it's still active. The value is returned promptly.

If you want to take some action when the seat does exit, use **getExitSubscriber()** and call

```
const subscriber = E(seat).getExitSubscriber();
E.when(E(subscriber).getUpdateSince(), () => takeAction());
```

The eventual send to the subscriber will survive upgrade of the contract. Waiting on any of the promises would be broken in the case of a contract upgrade.

E(UserSeat).tryExit() [​](#e-userseat-tryexit)
----------------------------------------------

* Returns: None.

Note: Only works if the **seat**'s **proposal** has an **OnDemand** **exit** clause. Zoe's offer-safety guarantee applies no matter how a **seat**'s interaction with a contract ends. Under normal circumstances, the participant might be able to call **tryExit()**, or the contract might do something explicitly. On exiting, the seat holder gets its current **[Allocation](./zoe-data-types.html#allocation)** and the **seat** can no longer interact with the contract.

E(UserSeat).numWantsSatisfied() [​](#e-userseat-numwantssatisfied)
------------------------------------------------------------------

* Returns: **Promise<Number>**

Returns a **Promise** for a number which indicates the result of the exited **Proposal**, as described below:

| Number Returned | Description |
| --- | --- |
| 0 | The user didn't get what they wanted from the **Proposal**, so their offer was refunded. |
| 1 | The user got what they wanted from the **Proposal**, so their offer is spent & gone. |

This promise will be resolved promptly once the seat exits.

E(UserSeat).getExitSubscriber() [​](#e-userseat-getexitsubscriber)
------------------------------------------------------------------

* Returns: **Promise<Subscriber>**

Returns a **Promise** for the **Subscriber** for the seat.

E(UserSeat).getFinalAllocation() [​](#e-userseat-getfinalallocation)
--------------------------------------------------------------------

* Returns: **Promise<[Allocation](./zoe-data-types.html#allocation)>**

Returns a **Promise** for the **Allocation** when the **UserSeat** exits the **proposal**. This promise will be resolved promptly once the seat exits.

 [Help us improve this page!](https://github.com/Agoric/documentation/edit/main/main/reference/zoe-api/user-seat.md)

Last Updated: 

Pager[Previous pageZoe Service](/reference/zoe-api/zoe.html)[Next pageZoe Contract Facet (ZCF)](/reference/zoe-api/zoe-contract-facet.html)

© 2024 Agoric Systems Operating Company. All Rights Reserved.



