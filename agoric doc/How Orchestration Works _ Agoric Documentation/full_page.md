
 [Skip to content](#VPContent) [![](/agoric-logo-red.svg)Agoric Documentation](/)Search`K` Main Navigation Orchestrate[What is Agoric Orchestration?](/guides/orchestration/)[Key Concepts and APIs](/guides/orchestration/key-concepts.html)

Contract Walkthroughs

[Send Anywhere Example](/guides/orchestration/contract-walkthroughs/send-anywhere.html)[Cross-Chain Unbond Example](/guides/orchestration/contract-walkthroughs/cross-chain-unbond.html)

Example Orchestration DApp

[Installation and Deployment](/guides/orchestration/orchestration-basics/installation.html)[Orca Contract walkthrough](/guides/orchestration/orchestration-basics/contract.html)[UI Walkthrough](/guides/orchestration/orchestration-basics/ui.html)[How Orchestration Works](/guides/orchestration/how-orch-works.html)Build[Getting Started](/guides/getting-started/)[Smart Contract Basics](/guides/zoe/contract-basics.html)[UI Component Library](/guides/UIComponentLibrary/)[Building Client Dapps](/guides/getting-started/contract-rpc.html)[Permissioned Contract Deployment](/guides/coreeval/)[Integrating with Agoric Network](/guides/integration/chain-integration.html)[Agoric CLI](/guides/agoric-cli/)[Agoric API Reference](https://agoric-sdk.pages.dev/)[Endo API Reference](https://endojs.github.io/endo/)[ERTP API](/reference/ertp-api/)[Zoe API](/reference/zoe-api/)[Example Zoe Contracts](/guides/zoe/contracts/)[End-to-End Testing](/e2e-testing.html)Learn[What is Agoric?](/what-is-agoric.html)[Agoric Platform](/guides/platform/)[Zoe Smart Contract Framework](/guides/zoe/)[ERTP](/guides/ertp/)[JavaScript Framework](/guides/js-programming/)[Deployed Zoe Contracts](/guides/zoe/actual-contracts/)[Glossary](/glossary/)[Papers](https://agoric.com/papers/)Tutorials[Tutorial: Dapp with Agoric](/guides/getting-started/tutorial/)[dapp-agoric-basics](/guides/getting-started/tutorial-dapp-agoric-basics.html)[UI Tutorial](/guides/getting-started/ui-tutorial/)Support[Agoric](https://agoric.com/)[Discord](https://agoric.com/discord)[Github Discussions (Q&A)](https://github.com/Agoric/agoric-sdk/discussions)[Office Hours](https://github.com/Agoric/agoric-sdk/wiki/Office-Hours)[Twitter](https://twitter.com/agoric)[YouTube](https://www.youtube.com/channel/UCpY91oQLh_Lp0mitdZ5bYWg/)[Github](https://github.com/Agoric/)

Appearance

MenuReturn to top Sidebar Navigation 

Orchestrate
-----------

[What is Agoric Orchestration?](/guides/orchestration/)[Key Concepts and APIs](/guides/orchestration/key-concepts.html)[### Contract Walkthroughs](/guides/orchestration/contract-walkthroughs/)[Send Anywhere Example](/guides/orchestration/contract-walkthroughs/send-anywhere.html)[Cross-Chain Unbond Example](/guides/orchestration/contract-walkthroughs/cross-chain-unbond.html)[### Example Orchestration DApp](/guides/orchestration/orchestration-basics/)[Installation and Deployment](/guides/orchestration/orchestration-basics/installation.html)[Orca Contract walkthrough](/guides/orchestration/orchestration-basics/contract.html)[UI Walkthrough](/guides/orchestration/orchestration-basics/ui.html)[How Orchestration Works](/guides/orchestration/how-orch-works.html)

Build
-----

[### Getting Started](/guides/getting-started/)[Takeaway 1: Starting a Local Chain](/guides/getting-started/explainer-how-to-start-a-local-chain.html)[Takeaway 2: Deploying a Smart Contract](/guides/getting-started/explainer-deploying-a-smart-contact.html)[Takeaway 3: Making an Offer](/guides/getting-started/explainer-how-to-make-an-offer.html)[### Smart Contract Basics](/guides/zoe/contract-basics.html)[Hello World Smart Contract](/guides/zoe/contract-hello.html)[State Smart Contract](/guides/zoe/contract-state.html)[Access Control Smart Contract](/guides/zoe/contract-access-control.html)[Complete Contract Walk-Through](/guides/zoe/contract-walkthru.html)[Durable Contract Details](/guides/zoe/contract-details.html)[Contract Upgrade](/guides/zoe/contract-upgrade.html)[Contract Governance](/guides/governance/)[UI Component Library](/guides/UIComponentLibrary/)[Building Client Dapps](/guides/getting-started/contract-rpc.html)[### Permissioned Contract Deployment](/guides/coreeval/)[Write Code to Deploy a Contract](/guides/coreeval/proposal.html)[Declare Required Capabilities](/guides/coreeval/permissions.html)[Submit Transactions](/guides/coreeval/local-testnet.html)[### Integrating with Agoric Network](/guides/integration/chain-integration.html)[Name Services: agoricNames, namesByAddress, board](/guides/integration/name-services.html)[SubQuery Indexing](/guides/subquery-indexing.html)[### Agoric CLI](/guides/agoric-cli/)[Agoric CLI Reference](/guides/agoric-cli/)[Using agd to make queries and transactions](/guides/agoric-cli/agd-query-tx.html)[Agoric API Reference](https://agoric-sdk.pages.dev/)[Endo API Reference](https://endojs.github.io/endo/)[### ERTP API](/reference/ertp-api/)[ERTP API](/reference/ertp-api/)[Issuer Object](/reference/ertp-api/issuer.html)[Mint Object](/reference/ertp-api/mint.html)[Brand Object](/reference/ertp-api/brand.html)[Purse Object](/reference/ertp-api/purse.html)[Payment Object](/reference/ertp-api/payment.html)[AmountMath Object](/reference/ertp-api/amount-math.html)[ERTP Data Types](/reference/ertp-api/ertp-data-types.html)[### Zoe API](/reference/zoe-api/)[Zoe API](/reference/zoe-api/)[Zoe Service](/reference/zoe-api/zoe.html)[UserSeat Object](/reference/zoe-api/user-seat.html)[Zoe Contract Facet (ZCF)](/reference/zoe-api/zoe-contract-facet.html)[ZCFSeat Object](/reference/zoe-api/zcfseat.html)[ZCFMint Object](/reference/zoe-api/zcfmint.html)[ZoeHelper Functions](/reference/zoe-api/zoe-helpers.html)[Ratio Math Functions](/reference/zoe-api/ratio-math.html)[Zoe Data Types](/reference/zoe-api/zoe-data-types.html)[### Example Zoe Contracts](/guides/zoe/contracts/)[Example Zoe Contracts](/guides/zoe/contracts/)[Oracle Query Contract](/guides/zoe/contracts/oracle.html)[Vault Contract](/guides/zoe/contracts/vault.html)[Loan Contract](/guides/zoe/contracts/loan.html)[Funded Call Spread Contract](/guides/zoe/contracts/fundedCallSpread.html)[Priced Call Spread Contract](/guides/zoe/contracts/pricedCallSpread.html)[Covered Call Contract](/guides/zoe/contracts/covered-call.html)[OTC Desk Contract](/guides/zoe/contracts/otc-desk.html)[ConstantProduct AMM Contract](/guides/zoe/contracts/constantProductAMM.html)[Sell Items Contract](/guides/zoe/contracts/sell-items.html)[Atomic Swap Contract](/guides/zoe/contracts/atomic-swap.html)[Barter Exchange Contract](/guides/zoe/contracts/barter-exchange.html)[Second-Price Auction Contract](/guides/zoe/contracts/second-price-auction.html)[Simple Exchange Contract](/guides/zoe/contracts/simple-exchange.html)[Escrow To Vote Contract](/guides/zoe/contracts/escrow-to-vote.html)[Mint Payments Contract](/guides/zoe/contracts/mint-payments.html)[Mint and Sell NFTs Contract](/guides/zoe/contracts/mint-and-sell-nfts.html)[Use Object Contract](/guides/zoe/contracts/use-obj-example.html)[Automatic Refund Contract](/guides/zoe/contracts/automatic-refund.html)[End-to-End Testing](/e2e-testing.html)

Learn
-----

[What is Agoric?](/what-is-agoric.html)[Agoric Platform](/guides/platform/)[Zoe Smart Contract Framework](/guides/zoe/)[### ERTP](/guides/ertp/)[Amounts, Values, and Brands](/guides/ertp/amounts.html)[AmountMath](/guides/ertp/amount-math.html)[Issuers and Mints](/guides/ertp/issuers-and-mints.html)[Purses and Payments](/guides/ertp/purses-and-payments.html)[JavaScript Framework](/guides/js-programming/)[### Deployed Zoe Contracts](/guides/zoe/actual-contracts/)[PSM Contract](/guides/zoe/actual-contracts/PSM.html)[PriceAuthority Object](/reference/zoe-api/price-authority.html)[Glossary](/glossary/)[Papers](https://agoric.com/papers/)

Tutorials
---------

[Tutorial: Dapp with Agoric](/guides/getting-started/tutorial/)[### dapp-agoric-basics](/guides/getting-started/tutorial-dapp-agoric-basics.html)[Takeaway 1: Sell Concert Tickets Contract Overview](/guides/getting-started/sell-concert-tickets-contract-explainer.html)[Takeaway 2: Swaparoo Contract Overview](/guides/getting-started/swaparoo-how-to-swap-assets-explainer.html)[Takeaway 3: Sending Invitation Payments using an Address](/guides/getting-started/swaparoo-making-a-payment-explainer.html)[### UI Tutorial](/guides/getting-started/ui-tutorial/)[1. Starting](/guides/getting-started/ui-tutorial/starting.html)[2. Agoric Provider](/guides/getting-started/ui-tutorial/agoric-provider.html)[3. Connect Wallet](/guides/getting-started/ui-tutorial/connect-wallet.html)[4. Querying Vstorage](/guides/getting-started/ui-tutorial/querying-vstorage.html)[5. Making an Offer](/guides/getting-started/ui-tutorial/making-an-offer.html)[6. Conclusion](/guides/getting-started/ui-tutorial/conclusion.html)

Support
-------

[Agoric](https://agoric.com/)[Discord](https://agoric.com/discord)[Discussions (Q&A)](https://github.com/Agoric/agoric-sdk/discussions)[Office Hours](https://github.com/Agoric/agoric-sdk/wiki/Office-Hours)[Twitter](https://twitter.com/agoric)[YouTube](https://www.youtube.com/channel/UCpY91oQLh_Lp0mitdZ5bYWg/)[Github](https://github.com/Agoric/)On this page

How Orchestration Works [​](#how-orchestration-works)
=====================================================

Orchestration relies on protocols and mechanisms that allow blockchains to communicate and transact with each other securely and efficiently. The primary objectives of Orchestration are:

* **Interoperability:** Enabling different blockchain networks to interact and transact with one another.
* **Scalability:** Facilitating the collaboration of multiple blockchains without compromising performance.
* **Security:** Ensuring that cross-chain transactions are secure and trustworthy.

To achieve these goals, several foundational technologies and protocols have been developed, with the [Inter-Blockchain Communication (IBC) protocol](https://ibcprotocol.org/) being one of the most prominent.

  
![](/assets/orch_contract_arch.CXAaUuRD.svg)  
### Inter-Blockchain Communication (IBC) [​](#inter-blockchain-communication-ibc)

The [Inter-Blockchain Communication (IBC) protocol](https://ibcprotocol.org/) is often compared to the TCP/IP protocol of the internet. Just as TCP/IP enables different computer networks to communicate across the internet, IBC allows blockchains to communicate securely with each other.

#### How IBC Works [​](#how-ibc-works)

IBC operates on a straightforward premise: by adhering to a common set of communication protocols, blockchains can securely transfer data and tokens between one another. Here's a high-level overview of how IBC achieves this:

* **Light Client Verification:** Each blockchain maintains a [light client](https://github.com/cosmos/ibc-go/blob/34628eb0c1ca0ca9721c6e3923cf048e1172b8b0/docs/docs/03-light-clients/01-developer-guide/01-overview.md) of the other blockchain. A light client is a simplified version of a blockchain client that only retains enough information to verify transactions and proofs, without needing to store the entire blockchain history.
* **Relayer:** A [relayer](https://github.com/cosmos/relayer) is an off-chain process that listens for transactions on one blockchain and relays them to another. The relayer facilitates communication between blockchains but does not have any special permissions or abilities—it merely passes messages between chains.
* **IBC Handshake:** Before two blockchains can communicate, they perform a handshake, establishing a trusted channel between them. This involves verifying each other's consensus state using light clients.
* **Packet Transfer:** Once the connection is established, IBC allows the transfer of data packets. These packets can represent tokens, smart contract commands, or other data. The receiving blockchain uses light client verification to ensure the data is valid and hasn’t been tampered with.
* **Finality and Acknowledgement:** After a packet is successfully processed by the receiving blockchain, an acknowledgment is sent back to the originating blockchain, confirming the transaction's completion.

The modularity of the IBC protocol allows it to be adapted for various use cases and blockchain types, making it a versatile tool for blockchain orchestration.

### Interchain Accounts (ICA) [​](#interchain-accounts-ica)

[Interchain Accounts (ICA)](https://github.com/cosmos/ibc/blob/main/spec/app/ics-027-interchain-accounts/README.md) is a feature built on top of IBC that allows one blockchain (the controller chain) to control an account on another blockchain (the host chain). This enables seamless cross-chain operations and automation, allowing for complex interactions between blockchains.

#### How ICA Works [​](#how-ica-works)

The ICA protocol enables a controller chain to request the creation of an account on a host chain. The host chain creates the account and delegates control of it to the controller chain.

* **Account Creation:** The controller chain (e.g., Agoric) requests an account on the host chain (e.g., Osmosis) using the IBC protocol. The host chain then creates the account and delegates control to the controller chain.
* **Reification in Agoric:** When the controller chain is Agoric, control of the account and Chain objects within its Orchestration API are reified as JavaScript objects. For example,
  ```
  const chain = orch.getChain('osmosis')
  ```
  creates an object that represents the host chain Osmosis. A call to `chain.makeAccount()` results in the Agoric chain acting as the controller and requesting the creation of an Interchain Account (ICA) on the Osmosis chain. This operation produces an `OrchestrationAccount` object, which provides access to control the ICA.
* **Access Control:** Whoever has access to the JavaScript object can control the account. In Agoric's architecture, access to this object is only passed to authorized parties. In particular, the party that called `chain.makeAccount()` gets access to it, ensuring secure access delegation.
* **Transaction Execution:** The controller chain (e.g., Agoric) can now send IBC messages to execute transactions on the host chain (e.g., Osmosis) as if it were a local user. This includes transferring tokens, interacting with smart contracts, and performing other blockchain operations.
* **Automation:** Using ICA, the controller chain can automate operations on the host chain. For instance, Agoric can programmatically manage assets on another chain, automating workflows that span multiple blockchains.

### Interchain Queries (ICQ) [​](#interchain-queries-icq)

Interchain Queries (ICQ) is another powerful feature that enables a contract on one blockchain to query the state of an account another blockchain in a trustless manner. For example, a DeFi application on Agoric could use ICQ to fetch the balance of an account from other chains like Osmosis or Cosmos Hub without the need for autorization, enabling more sophisticated cross-chain trading interactions. ICQ enhances the interoperability of blockchain networks by facilitating secure and efficient data sharing between chains, opening up new possibilities for cross-chain applications and services. Below is an example of an ICQ invocation to get balance of a remote account on `osmosis`:

js
```
const remoteChainBalance = await remoteAccount.getBalance('uosmo');
```

While ICA is a cross-chain write, ICQ is a cross-chain read.

### Why Agoric's Approach Stands Out [​](#why-agoric-s-approach-stands-out)

Agoric's unique programming model, which is already distributed and asynchronous, makes it particularly well-suited for Interchain Accounts and Interchain Queries. When contracts on Agoric interact, the system is designed to handle cases where the other contract may reside on a remote machine or another blockchain. This inherent architecture allows Agoric to seamlessly control and manage Interchain Accounts, further enhancing the Orchestration capabilities.

By leveraging ICA and ICQ, Orchestration becomes more flexible and powerful, enabling direct, programmable interactions between blockchains. This unlocks a wide range of possibilities, from decentralized finance (DeFi) to supply chain management and beyond.

 [Help us improve this page!](https://github.com/Agoric/documentation/edit/main/main/guides/orchestration/how-orch-works.md)

Last Updated: 

Pager[Previous pageUI Walkthrough](/guides/orchestration/orchestration-basics/ui.html)[Next pageGetting Started](/guides/getting-started/)

© 2024 Agoric Systems Operating Company. All Rights Reserved.



