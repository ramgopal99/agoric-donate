
 [Skip to content](#VPContent) [![](/agoric-logo-red.svg)Agoric Documentation](/)Search`K` Main Navigation Orchestrate[What is Agoric Orchestration?](/guides/orchestration/)[Key Concepts and APIs](/guides/orchestration/key-concepts.html)

Contract Walkthroughs

[Send Anywhere Example](/guides/orchestration/contract-walkthroughs/send-anywhere.html)[Cross-Chain Unbond Example](/guides/orchestration/contract-walkthroughs/cross-chain-unbond.html)

Example Orchestration DApp

[Installation and Deployment](/guides/orchestration/orchestration-basics/installation.html)[Orca Contract walkthrough](/guides/orchestration/orchestration-basics/contract.html)[UI Walkthrough](/guides/orchestration/orchestration-basics/ui.html)[How Orchestration Works](/guides/orchestration/how-orch-works.html)Build[Getting Started](/guides/getting-started/)[Smart Contract Basics](/guides/zoe/contract-basics.html)[UI Component Library](/guides/UIComponentLibrary/)[Building Client Dapps](/guides/getting-started/contract-rpc.html)[Permissioned Contract Deployment](/guides/coreeval/)[Integrating with Agoric Network](/guides/integration/chain-integration.html)[Agoric CLI](/guides/agoric-cli/)[Agoric API Reference](https://agoric-sdk.pages.dev/)[Endo API Reference](https://endojs.github.io/endo/)[ERTP API](/reference/ertp-api/)[Zoe API](/reference/zoe-api/)[Example Zoe Contracts](/guides/zoe/contracts/)[End-to-End Testing](/e2e-testing.html)Learn[What is Agoric?](/what-is-agoric.html)[Agoric Platform](/guides/platform/)[Zoe Smart Contract Framework](/guides/zoe/)[ERTP](/guides/ertp/)[JavaScript Framework](/guides/js-programming/)[Deployed Zoe Contracts](/guides/zoe/actual-contracts/)[Glossary](/glossary/)[Papers](https://agoric.com/papers/)Tutorials[Tutorial: Dapp with Agoric](/guides/getting-started/tutorial/)[dapp-agoric-basics](/guides/getting-started/tutorial-dapp-agoric-basics.html)[UI Tutorial](/guides/getting-started/ui-tutorial/)Support[Agoric](https://agoric.com/)[Discord](https://agoric.com/discord)[Github Discussions (Q&A)](https://github.com/Agoric/agoric-sdk/discussions)[Office Hours](https://github.com/Agoric/agoric-sdk/wiki/Office-Hours)[Twitter](https://twitter.com/agoric)[YouTube](https://www.youtube.com/channel/UCpY91oQLh_Lp0mitdZ5bYWg/)[Github](https://github.com/Agoric/)

Appearance

MenuReturn to top Sidebar Navigation 

Orchestrate
-----------

[What is Agoric Orchestration?](/guides/orchestration/)[Key Concepts and APIs](/guides/orchestration/key-concepts.html)[### Contract Walkthroughs](/guides/orchestration/contract-walkthroughs/)[Send Anywhere Example](/guides/orchestration/contract-walkthroughs/send-anywhere.html)[Cross-Chain Unbond Example](/guides/orchestration/contract-walkthroughs/cross-chain-unbond.html)[### Example Orchestration DApp](/guides/orchestration/orchestration-basics/)[Installation and Deployment](/guides/orchestration/orchestration-basics/installation.html)[Orca Contract walkthrough](/guides/orchestration/orchestration-basics/contract.html)[UI Walkthrough](/guides/orchestration/orchestration-basics/ui.html)[How Orchestration Works](/guides/orchestration/how-orch-works.html)

Build
-----

[### Getting Started](/guides/getting-started/)[Takeaway 1: Starting a Local Chain](/guides/getting-started/explainer-how-to-start-a-local-chain.html)[Takeaway 2: Deploying a Smart Contract](/guides/getting-started/explainer-deploying-a-smart-contact.html)[Takeaway 3: Making an Offer](/guides/getting-started/explainer-how-to-make-an-offer.html)[### Smart Contract Basics](/guides/zoe/contract-basics.html)[Hello World Smart Contract](/guides/zoe/contract-hello.html)[State Smart Contract](/guides/zoe/contract-state.html)[Access Control Smart Contract](/guides/zoe/contract-access-control.html)[Complete Contract Walk-Through](/guides/zoe/contract-walkthru.html)[Durable Contract Details](/guides/zoe/contract-details.html)[Contract Upgrade](/guides/zoe/contract-upgrade.html)[Contract Governance](/guides/governance/)[UI Component Library](/guides/UIComponentLibrary/)[Building Client Dapps](/guides/getting-started/contract-rpc.html)[### Permissioned Contract Deployment](/guides/coreeval/)[Write Code to Deploy a Contract](/guides/coreeval/proposal.html)[Declare Required Capabilities](/guides/coreeval/permissions.html)[Submit Transactions](/guides/coreeval/local-testnet.html)[### Integrating with Agoric Network](/guides/integration/chain-integration.html)[Name Services: agoricNames, namesByAddress, board](/guides/integration/name-services.html)[SubQuery Indexing](/guides/subquery-indexing.html)[### Agoric CLI](/guides/agoric-cli/)[Agoric CLI Reference](/guides/agoric-cli/)[Using agd to make queries and transactions](/guides/agoric-cli/agd-query-tx.html)[Agoric API Reference](https://agoric-sdk.pages.dev/)[Endo API Reference](https://endojs.github.io/endo/)[### ERTP API](/reference/ertp-api/)[ERTP API](/reference/ertp-api/)[Issuer Object](/reference/ertp-api/issuer.html)[Mint Object](/reference/ertp-api/mint.html)[Brand Object](/reference/ertp-api/brand.html)[Purse Object](/reference/ertp-api/purse.html)[Payment Object](/reference/ertp-api/payment.html)[AmountMath Object](/reference/ertp-api/amount-math.html)[ERTP Data Types](/reference/ertp-api/ertp-data-types.html)[### Zoe API](/reference/zoe-api/)[Zoe API](/reference/zoe-api/)[Zoe Service](/reference/zoe-api/zoe.html)[UserSeat Object](/reference/zoe-api/user-seat.html)[Zoe Contract Facet (ZCF)](/reference/zoe-api/zoe-contract-facet.html)[ZCFSeat Object](/reference/zoe-api/zcfseat.html)[ZCFMint Object](/reference/zoe-api/zcfmint.html)[ZoeHelper Functions](/reference/zoe-api/zoe-helpers.html)[Ratio Math Functions](/reference/zoe-api/ratio-math.html)[Zoe Data Types](/reference/zoe-api/zoe-data-types.html)[### Example Zoe Contracts](/guides/zoe/contracts/)[Example Zoe Contracts](/guides/zoe/contracts/)[Oracle Query Contract](/guides/zoe/contracts/oracle.html)[Vault Contract](/guides/zoe/contracts/vault.html)[Loan Contract](/guides/zoe/contracts/loan.html)[Funded Call Spread Contract](/guides/zoe/contracts/fundedCallSpread.html)[Priced Call Spread Contract](/guides/zoe/contracts/pricedCallSpread.html)[Covered Call Contract](/guides/zoe/contracts/covered-call.html)[OTC Desk Contract](/guides/zoe/contracts/otc-desk.html)[ConstantProduct AMM Contract](/guides/zoe/contracts/constantProductAMM.html)[Sell Items Contract](/guides/zoe/contracts/sell-items.html)[Atomic Swap Contract](/guides/zoe/contracts/atomic-swap.html)[Barter Exchange Contract](/guides/zoe/contracts/barter-exchange.html)[Second-Price Auction Contract](/guides/zoe/contracts/second-price-auction.html)[Simple Exchange Contract](/guides/zoe/contracts/simple-exchange.html)[Escrow To Vote Contract](/guides/zoe/contracts/escrow-to-vote.html)[Mint Payments Contract](/guides/zoe/contracts/mint-payments.html)[Mint and Sell NFTs Contract](/guides/zoe/contracts/mint-and-sell-nfts.html)[Use Object Contract](/guides/zoe/contracts/use-obj-example.html)[Automatic Refund Contract](/guides/zoe/contracts/automatic-refund.html)[End-to-End Testing](/e2e-testing.html)

Learn
-----

[What is Agoric?](/what-is-agoric.html)[Agoric Platform](/guides/platform/)[Zoe Smart Contract Framework](/guides/zoe/)[### ERTP](/guides/ertp/)[Amounts, Values, and Brands](/guides/ertp/amounts.html)[AmountMath](/guides/ertp/amount-math.html)[Issuers and Mints](/guides/ertp/issuers-and-mints.html)[Purses and Payments](/guides/ertp/purses-and-payments.html)[JavaScript Framework](/guides/js-programming/)[### Deployed Zoe Contracts](/guides/zoe/actual-contracts/)[PSM Contract](/guides/zoe/actual-contracts/PSM.html)[PriceAuthority Object](/reference/zoe-api/price-authority.html)[Glossary](/glossary/)[Papers](https://agoric.com/papers/)

Tutorials
---------

[Tutorial: Dapp with Agoric](/guides/getting-started/tutorial/)[### dapp-agoric-basics](/guides/getting-started/tutorial-dapp-agoric-basics.html)[Takeaway 1: Sell Concert Tickets Contract Overview](/guides/getting-started/sell-concert-tickets-contract-explainer.html)[Takeaway 2: Swaparoo Contract Overview](/guides/getting-started/swaparoo-how-to-swap-assets-explainer.html)[Takeaway 3: Sending Invitation Payments using an Address](/guides/getting-started/swaparoo-making-a-payment-explainer.html)[### UI Tutorial](/guides/getting-started/ui-tutorial/)[1. Starting](/guides/getting-started/ui-tutorial/starting.html)[2. Agoric Provider](/guides/getting-started/ui-tutorial/agoric-provider.html)[3. Connect Wallet](/guides/getting-started/ui-tutorial/connect-wallet.html)[4. Querying Vstorage](/guides/getting-started/ui-tutorial/querying-vstorage.html)[5. Making an Offer](/guides/getting-started/ui-tutorial/making-an-offer.html)[6. Conclusion](/guides/getting-started/ui-tutorial/conclusion.html)

Support
-------

[Agoric](https://agoric.com/)[Discord](https://agoric.com/discord)[Discussions (Q&A)](https://github.com/Agoric/agoric-sdk/discussions)[Office Hours](https://github.com/Agoric/agoric-sdk/wiki/Office-Hours)[Twitter](https://twitter.com/agoric)[YouTube](https://www.youtube.com/channel/UCpY91oQLh_Lp0mitdZ5bYWg/)[Github](https://github.com/Agoric/)On this page

AmountMath Object [​](#amountmath-object)
=========================================

Library for manipulating and analyzing **[Amounts](./ertp-data-types.html#amount)**.

Importing and Using AmountMath [​](#importing-and-using-amountmath)
-------------------------------------------------------------------

To use **AmountMath**, import it from ERTP:

* `import { AmountMath } from '@agoric/ertp';`

Brand Parameters [​](#brand-parameters)
---------------------------------------

Note that many **AmountMath** methods have an optional **[Brand](./brand.html)** parameter. For these methods, you should pass in a **Brand** argument you got from when you need to do an "absolute" check on the **Brand** within an **[Amount](./ertp-data-types.html#amount)** parameter. In this case, you want to use the **Brand** you got from the **Issuer** (or from Zoe) as the optional parameter to compare the **Amount** **Brand**(s) to. If they are not equal, an error is thrown and no changes are made.

AmountMath.make(brand, allegedValue) [​](#amountmath-make-brand-allegedvalue)
-----------------------------------------------------------------------------

* **brand**: **[Brand](./brand.html)**
* **allegedValue**: **[AmountValue](./ertp-data-types.html#amountvalue)**
* Returns: **[Amount](./ertp-data-types.html#amount)**

Creates an **Amount** from a given **Brand** and **AmountValue**.

js
```
const bid = AmountMath.make(quatloosBrand, 300n);
```

AmountMath.coerce(brand, allegedAmount) [​](#amountmath-coerce-brand-allegedamount)
-----------------------------------------------------------------------------------

* **brand**: **[Brand](./brand.html)**
* **allegedAmount**: **[Amount](./ertp-data-types.html#amount)**
* Returns: **Amount**

Verifies that an **Amount** is for the specified *brand* and returns an equivalent **Amount**. If the **Amount** is not for the specified **Brand**, an error is thrown.

js
```
const verifiedAmount = AmountMath.coerce(quatloosBrand, bid);
```

AmountMath.getValue(brand, amount) [​](#amountmath-getvalue-brand-amount)
-------------------------------------------------------------------------

* **brand**: **[Brand](./brand.html)**
* **amount**: **[Amount](./ertp-data-types.html#amount)**
* Returns: **[AmountValue](./ertp-data-types.html#amountvalue)**

Returns the **AmountValue** from the given **Amount**.

js
```
const quatloos123 = AmountMath.make(quatloosBrand, 123n);

// Returns 123n
AmountMath.getValue(quatloosBrand, quatloos123);
```

AmountMath.makeEmpty(brand, assetKind) [​](#amountmath-makeempty-brand-assetkind)
---------------------------------------------------------------------------------

* **brand**: **[Brand](./brand.html)**
* **assetKind**: **[AssetKind](./ertp-data-types.html#assetkind)**
* Returns: **[Amount](./ertp-data-types.html#amount)**

Returns the **Amount** representing an empty **Amount** for the *brand* parameter's **Brand**. This is the identity element for **AmountMath.add()** and **AmountMath.subtract()**. The empty **AmountValue** depends on whether the *assetKind* is **AssetKind.NAT** (`0n`), **AssetKind.COPY\_SET** (`[]`), or **AssetKind.COPY\_BAG** (`[]`).

js
```
// Returns an amount with 0n as its value
const empty = AmountMath.makeEmpty(quatloosBrand, AssetKind.NAT);
```

AmountMath.makeEmptyFromAmount(amount) [​](#amountmath-makeemptyfromamount-amount)
----------------------------------------------------------------------------------

* **amount**: **[Amount](./ertp-data-types.html#amount)**
* Returns: **Amount**

Returns an empty **Amount** for the **Brand** of the *amount* parameter.

js
```
// bid = { brand: quatloosBrand, value: 300n }
const bid = AmountMath.make(quatloosBrand, 300n);
// Returns { brand: quatloosBrand, value: 0n }
const zeroQuatloos = AmountMath.makeEmptyFromAmount(bid);
```

AmountMath.isEmpty(amount, brand?) [​](#amountmath-isempty-amount-brand)
------------------------------------------------------------------------

* **amount**: **[Amount](./ertp-data-types.html#amount)**
* **brand**: **[Brand](./brand.html)** - Optional, defaults to **undefined**.
* Returns: **Boolean**

Returns **true** if the **Amount** is empty. Otherwise returns **false**.

If the optional *brand* argument doesn't match the **Amount**'s **Brand**, an error is thrown.

js
```
const empty = AmountMath.makeEmpty(quatloosBrand, AssetKind.NAT);
const quatloos1 = AmountMath.make(quatloosBrand, 1n);

// Returns true
const result = AmountMath.isEmpty(empty);

// Returns false
const result = AmountMath.isEmpty(quatloos1);
```

AmountMath.isGTE(leftAmount, rightAmount, brand?) [​](#amountmath-isgte-leftamount-rightamount-brand)
-----------------------------------------------------------------------------------------------------

* **leftAmount**: **[Amount](./ertp-data-types.html#amount)**
* **rightAmount**: **Amount**
* **brand**: **[Brand](./brand.html)** - Optional, defaults to **undefined**.
* Returns: **Boolean**

Returns **true** if the **[AmountValue](./ertp-data-types.html#amountvalue)** of *leftAmount* is greater than or equal to the **AmountValue** of *rightAmount*. Both **Amount** arguments must have the same **Brand**.

If the optional *brand* argument doesn't match the **Amount**s' **Brand**, an error is thrown.

For non-fungible **AmountValues**, what "greater than or equal to" is depends on the kind of **AmountMath**. For example, { 'seat 1', 'seat 2' } is considered greater than { 'seat 2' } because the former is a strict superset of the latter.

js
```
const empty = AmountMath.makeEmpty(quatloosBrand, AssetKind.NAT);
const quatloos5 = AmountMath.make(quatloosBrand, 5n);
const quatloos10 = AmountMath.make(quatloosBrand, 10n);

// Returns true
AmountMath.isGTE(quatloos5, empty);
// Returns false
AmountMath.isGTE(empty, quatloos5, quatloosBrand);
// Returns true
AmountMath.isGTE(quatloos10, quatloos5);
// Returns false
AmountMath.isGTE(quatloos5, quatloos10);
// Returns true
AmountMath.isGTE(quatloos5, quatloos5);
```

AmountMath.isEqual(leftAmount, rightAmount, brand?) [​](#amountmath-isequal-leftamount-rightamount-brand)
---------------------------------------------------------------------------------------------------------

* **leftAmount**: **[Amount](./ertp-data-types.html#amount)**
* **rightAmount**: **Amount**
* **brand**: **[Brand](./brand.html)** - Optional, defaults to **undefined**.
* Returns: **Boolean**

Returns **true** if the **[AmountValue](./ertp-data-types.html#amountvalue)** of *leftAmount* is equal to the **AmountValue** of *rightAmount*. Both **Amount** arguments must have the same **Brand**.

If the optional *brand* argument doesn't match the **Amount**s' **Brand**, an error is thrown.

For non-fungible **AmountValues**, "equal to" depends on the value of the **Brand's** **[AssetKind](./ertp-data-types.html#assetkind)**.

For example, { 'seat 1', 'seat 2' } is considered unequal to { 'seat 2' } because the number of elements differ. { 'seat 1' } is considered unequal to { 'seat 2' } because the elements do not match.

js
```
const empty = AmountMath.makeEmpty(quatloosBrand, AssetKind.NAT);
const quatloos5 = AmountMath.make(quatloosBrand, 5n);
const quatloos5b = AmountMath.make(quatloosBrand, 5n);
const quatloos10 = AmountMath.make(quatloosBrand, 10n);

// Returns true
AmountMath.isEqual(quatloos10, quatloos10);
// Returns true
AmountMath.isEqual(quatloos5, quatloos5b);
// Returns false
AmountMath.isEqual(quatloos10, quatloos5);
// Returns false
AmountMath.isEqual(empty, quatloos10);
```

AmountMath.add(leftAmount, rightAmount, brand?) [​](#amountmath-add-leftamount-rightamount-brand)
-------------------------------------------------------------------------------------------------

* **leftAmount**: **[Amount](./ertp-data-types.html#amount)**
* **rightAmount**: **Amount**
* **brand**: **[Brand](./brand.html)** - Optional, defaults to **undefined**.
* Returns: **Amount**

Returns a new **Amount** that is the combination of *leftAmount* and *rightAmount*. Both **Amount** arguments must have the same **Brand**.

If the optional *brand* argument doesn't match the **Amount**s' **Brand**, an error is thrown.

For fungible **Amounts** this means adding their **[AmountValues](./ertp-data-types.html#amountvalue)**. For non-fungible **Amounts**, it usually means including all of the elements from *leftAmount* and *rightAmount*.

If one of *leftAmount* or *rightAmount* is empty, this method returns an **Amount** equivalent to the other. If both are empty, this method returns an empty **Amount**.

js
```
import { AssetKind, makeIssuerKit, AmountMath } from '@agoric/ertp';
const { brand: myItemsBrand } = makeIssuerKit('myItems', AssetKind.COPY_SET);
const listAmountA = AmountMath.make(myItemsBrand, ['1', '2', '4']);
const listAmountB = AmountMath.make(myItemsBrand, ['3']);

// Returns an amount whose value is ['1', '2', '4', '3']
const combinedList = AmountMath.add(listAmountA, listAmountB);
```

AmountMath.subtract(leftAmount, rightAmount, brand?) [​](#amountmath-subtract-leftamount-rightamount-brand)
-----------------------------------------------------------------------------------------------------------

* **leftAmount**: **[Amount](./ertp-data-types.html#amount)**
* **rightAmount**: **Amount**
* **brand**: **[Brand](./brand.html)** - Optional, defaults to **undefined**.
* Returns: **Amount**

Returns a new **Amount** that is the *leftAmount* minus the *rightAmount* (i.e., everything in the *leftAmount* that is not in the *rightAmount*). If *leftAmount* doesn't include *rightAmount* (e.g., subtraction results in a negative), an error is thrown. Because *leftAmount* must include *rightAmount*, this is **not** equivalent to set subtraction.

Both **Amount** arguments must have the same **Brand**.

If the optional *brand* argument doesn't match the **Amount**s' **Brand**, an error is thrown.

If *rightAmount* is empty, this method returns *leftAmount*. If both arguments are empty, this method returns an empty **Amount**.

js
```
import { AssetKind, makeIssuerKit, AmountMath } from '@agoric/ertp';
const { brand: myItemsBrand } = makeIssuerKit('myItems', AssetKind.COPY_SET);
const listAmountA = AmountMath.make(myItemsBrand, ['1', '2', '4']);
const listAmountB = AmountMath.make(myItemsBrand, ['3']);
const listAmountC = AmountMath.make(myItemsBrand, ['2']);

// Returns ['1', '4']
const subtractedList = AmountMath.subtract(listAmountA, listAmountC);

// Throws an error
const badList = AmountMath.subtract(listAmountA, listAmountB);
```

AmountMath.min(x, y, brand?) [​](#amountmath-min-x-y-brand)
-----------------------------------------------------------

* **x**: **[Amount](./ertp-data-types.html#amount)**
* **y**: **Amount**
* **brand**: **[Brand](./brand.html)** - Optional, defaults to **undefined**.
* Returns: **Amount**

Returns the minimum value between *x* and *y*.

Both **Amount** arguments must have the same **Brand**.

If the optional *brand* argument doesn't match the **Amount**s' **Brand**, an error is thrown.

js
```
const smallerAmount = AmountMath.make(quatloosBrand, 5n);
const largerAmount = AmountMath.make(quatloosBrand, 10n);

// Returns an amount equivalent to smallerAmount
const comparisonResult = AmountMath.min(smallerAmount, largerAmount);
```

AmountMath.max(x, y, brand?) [​](#amountmath-max-x-y-brand)
-----------------------------------------------------------

* **x**: **[Amount](./ertp-data-types.html#amount)**
* **y**: **Amount**
* **brand**: **[Brand](./brand.html)** - Optional, defaults to **undefined**.
* Returns: **Amount**

Returns the maximum value between *x* and *y*.

Both **Amount** arguments must have the same **Brand**.

If the optional *brand* argument doesn't match the **Amount**s' **Brand**, an error is thrown.

js
```
const smallerAmount = AmountMath.make(quatloosBrand, 5n);
const largerAmount = AmountMath.make(quatloosBrand, 10n);

// Returns an amount equivalent to largerAmount
const comparisonResult = AmountMath.max(smallerAmount, largerAmount);
```

Related Methods [​](#related-methods)
-------------------------------------

The following methods on other ERTP components and objects also either operate on or return an **Amount** or **AssetKind**.

* [**anIssuer.getAmountOf()**](./issuer.html#anissuer-getamountof-payment)
  + Returns the **Amount** of a **Payment**.
* [**anIssuer.getAssetKind()**](./issuer.html#anissuer-getassetkind)
  + Returns the **AssetKind** of the **Issuer**'s associated math helpers.
* [**zcf.getAssetKind()**](/reference/zoe-api/zoe-contract-facet.html#zcf-getassetkind-brand)
  + Returns the **AssetKind** associated with a **Brand**.
 [Help us improve this page!](https://github.com/Agoric/documentation/edit/main/main/reference/ertp-api/amount-math.md)

Last Updated: 

Pager[Previous pagePayment Object](/reference/ertp-api/payment.html)[Next pageERTP Data Types](/reference/ertp-api/ertp-data-types.html)

© 2024 Agoric Systems Operating Company. All Rights Reserved.



