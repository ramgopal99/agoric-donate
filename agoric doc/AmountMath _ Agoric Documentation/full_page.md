
 [Skip to content](#VPContent) [![](/agoric-logo-red.svg)Agoric Documentation](/)Search`K` Main Navigation Orchestrate[What is Agoric Orchestration?](/guides/orchestration/)[Key Concepts and APIs](/guides/orchestration/key-concepts.html)

Contract Walkthroughs

[Send Anywhere Example](/guides/orchestration/contract-walkthroughs/send-anywhere.html)[Cross-Chain Unbond Example](/guides/orchestration/contract-walkthroughs/cross-chain-unbond.html)

Example Orchestration DApp

[Installation and Deployment](/guides/orchestration/orchestration-basics/installation.html)[Orca Contract walkthrough](/guides/orchestration/orchestration-basics/contract.html)[UI Walkthrough](/guides/orchestration/orchestration-basics/ui.html)[How Orchestration Works](/guides/orchestration/how-orch-works.html)Build[Getting Started](/guides/getting-started/)[Smart Contract Basics](/guides/zoe/contract-basics.html)[UI Component Library](/guides/UIComponentLibrary/)[Building Client Dapps](/guides/getting-started/contract-rpc.html)[Permissioned Contract Deployment](/guides/coreeval/)[Integrating with Agoric Network](/guides/integration/chain-integration.html)[Agoric CLI](/guides/agoric-cli/)[Agoric API Reference](https://agoric-sdk.pages.dev/)[Endo API Reference](https://endojs.github.io/endo/)[ERTP API](/reference/ertp-api/)[Zoe API](/reference/zoe-api/)[Example Zoe Contracts](/guides/zoe/contracts/)[End-to-End Testing](/e2e-testing.html)Learn[What is Agoric?](/what-is-agoric.html)[Agoric Platform](/guides/platform/)[Zoe Smart Contract Framework](/guides/zoe/)[ERTP](/guides/ertp/)[JavaScript Framework](/guides/js-programming/)[Deployed Zoe Contracts](/guides/zoe/actual-contracts/)[Glossary](/glossary/)[Papers](https://agoric.com/papers/)Tutorials[Tutorial: Dapp with Agoric](/guides/getting-started/tutorial/)[dapp-agoric-basics](/guides/getting-started/tutorial-dapp-agoric-basics.html)[UI Tutorial](/guides/getting-started/ui-tutorial/)Support[Agoric](https://agoric.com/)[Discord](https://agoric.com/discord)[Github Discussions (Q&A)](https://github.com/Agoric/agoric-sdk/discussions)[Office Hours](https://github.com/Agoric/agoric-sdk/wiki/Office-Hours)[Twitter](https://twitter.com/agoric)[YouTube](https://www.youtube.com/channel/UCpY91oQLh_Lp0mitdZ5bYWg/)[Github](https://github.com/Agoric/)

Appearance

MenuReturn to top Sidebar Navigation 

Orchestrate
-----------

[What is Agoric Orchestration?](/guides/orchestration/)[Key Concepts and APIs](/guides/orchestration/key-concepts.html)[### Contract Walkthroughs](/guides/orchestration/contract-walkthroughs/)[Send Anywhere Example](/guides/orchestration/contract-walkthroughs/send-anywhere.html)[Cross-Chain Unbond Example](/guides/orchestration/contract-walkthroughs/cross-chain-unbond.html)[### Example Orchestration DApp](/guides/orchestration/orchestration-basics/)[Installation and Deployment](/guides/orchestration/orchestration-basics/installation.html)[Orca Contract walkthrough](/guides/orchestration/orchestration-basics/contract.html)[UI Walkthrough](/guides/orchestration/orchestration-basics/ui.html)[How Orchestration Works](/guides/orchestration/how-orch-works.html)

Build
-----

[### Getting Started](/guides/getting-started/)[Takeaway 1: Starting a Local Chain](/guides/getting-started/explainer-how-to-start-a-local-chain.html)[Takeaway 2: Deploying a Smart Contract](/guides/getting-started/explainer-deploying-a-smart-contact.html)[Takeaway 3: Making an Offer](/guides/getting-started/explainer-how-to-make-an-offer.html)[### Smart Contract Basics](/guides/zoe/contract-basics.html)[Hello World Smart Contract](/guides/zoe/contract-hello.html)[State Smart Contract](/guides/zoe/contract-state.html)[Access Control Smart Contract](/guides/zoe/contract-access-control.html)[Complete Contract Walk-Through](/guides/zoe/contract-walkthru.html)[Durable Contract Details](/guides/zoe/contract-details.html)[Contract Upgrade](/guides/zoe/contract-upgrade.html)[Contract Governance](/guides/governance/)[UI Component Library](/guides/UIComponentLibrary/)[Building Client Dapps](/guides/getting-started/contract-rpc.html)[### Permissioned Contract Deployment](/guides/coreeval/)[Write Code to Deploy a Contract](/guides/coreeval/proposal.html)[Declare Required Capabilities](/guides/coreeval/permissions.html)[Submit Transactions](/guides/coreeval/local-testnet.html)[### Integrating with Agoric Network](/guides/integration/chain-integration.html)[Name Services: agoricNames, namesByAddress, board](/guides/integration/name-services.html)[SubQuery Indexing](/guides/subquery-indexing.html)[### Agoric CLI](/guides/agoric-cli/)[Agoric CLI Reference](/guides/agoric-cli/)[Using agd to make queries and transactions](/guides/agoric-cli/agd-query-tx.html)[Agoric API Reference](https://agoric-sdk.pages.dev/)[Endo API Reference](https://endojs.github.io/endo/)[### ERTP API](/reference/ertp-api/)[ERTP API](/reference/ertp-api/)[Issuer Object](/reference/ertp-api/issuer.html)[Mint Object](/reference/ertp-api/mint.html)[Brand Object](/reference/ertp-api/brand.html)[Purse Object](/reference/ertp-api/purse.html)[Payment Object](/reference/ertp-api/payment.html)[AmountMath Object](/reference/ertp-api/amount-math.html)[ERTP Data Types](/reference/ertp-api/ertp-data-types.html)[### Zoe API](/reference/zoe-api/)[Zoe API](/reference/zoe-api/)[Zoe Service](/reference/zoe-api/zoe.html)[UserSeat Object](/reference/zoe-api/user-seat.html)[Zoe Contract Facet (ZCF)](/reference/zoe-api/zoe-contract-facet.html)[ZCFSeat Object](/reference/zoe-api/zcfseat.html)[ZCFMint Object](/reference/zoe-api/zcfmint.html)[ZoeHelper Functions](/reference/zoe-api/zoe-helpers.html)[Ratio Math Functions](/reference/zoe-api/ratio-math.html)[Zoe Data Types](/reference/zoe-api/zoe-data-types.html)[### Example Zoe Contracts](/guides/zoe/contracts/)[Example Zoe Contracts](/guides/zoe/contracts/)[Oracle Query Contract](/guides/zoe/contracts/oracle.html)[Vault Contract](/guides/zoe/contracts/vault.html)[Loan Contract](/guides/zoe/contracts/loan.html)[Funded Call Spread Contract](/guides/zoe/contracts/fundedCallSpread.html)[Priced Call Spread Contract](/guides/zoe/contracts/pricedCallSpread.html)[Covered Call Contract](/guides/zoe/contracts/covered-call.html)[OTC Desk Contract](/guides/zoe/contracts/otc-desk.html)[ConstantProduct AMM Contract](/guides/zoe/contracts/constantProductAMM.html)[Sell Items Contract](/guides/zoe/contracts/sell-items.html)[Atomic Swap Contract](/guides/zoe/contracts/atomic-swap.html)[Barter Exchange Contract](/guides/zoe/contracts/barter-exchange.html)[Second-Price Auction Contract](/guides/zoe/contracts/second-price-auction.html)[Simple Exchange Contract](/guides/zoe/contracts/simple-exchange.html)[Escrow To Vote Contract](/guides/zoe/contracts/escrow-to-vote.html)[Mint Payments Contract](/guides/zoe/contracts/mint-payments.html)[Mint and Sell NFTs Contract](/guides/zoe/contracts/mint-and-sell-nfts.html)[Use Object Contract](/guides/zoe/contracts/use-obj-example.html)[Automatic Refund Contract](/guides/zoe/contracts/automatic-refund.html)[End-to-End Testing](/e2e-testing.html)

Learn
-----

[What is Agoric?](/what-is-agoric.html)[Agoric Platform](/guides/platform/)[Zoe Smart Contract Framework](/guides/zoe/)[### ERTP](/guides/ertp/)[Amounts, Values, and Brands](/guides/ertp/amounts.html)[AmountMath](/guides/ertp/amount-math.html)[Issuers and Mints](/guides/ertp/issuers-and-mints.html)[Purses and Payments](/guides/ertp/purses-and-payments.html)[JavaScript Framework](/guides/js-programming/)[### Deployed Zoe Contracts](/guides/zoe/actual-contracts/)[PSM Contract](/guides/zoe/actual-contracts/PSM.html)[PriceAuthority Object](/reference/zoe-api/price-authority.html)[Glossary](/glossary/)[Papers](https://agoric.com/papers/)

Tutorials
---------

[Tutorial: Dapp with Agoric](/guides/getting-started/tutorial/)[### dapp-agoric-basics](/guides/getting-started/tutorial-dapp-agoric-basics.html)[Takeaway 1: Sell Concert Tickets Contract Overview](/guides/getting-started/sell-concert-tickets-contract-explainer.html)[Takeaway 2: Swaparoo Contract Overview](/guides/getting-started/swaparoo-how-to-swap-assets-explainer.html)[Takeaway 3: Sending Invitation Payments using an Address](/guides/getting-started/swaparoo-making-a-payment-explainer.html)[### UI Tutorial](/guides/getting-started/ui-tutorial/)[1. Starting](/guides/getting-started/ui-tutorial/starting.html)[2. Agoric Provider](/guides/getting-started/ui-tutorial/agoric-provider.html)[3. Connect Wallet](/guides/getting-started/ui-tutorial/connect-wallet.html)[4. Querying Vstorage](/guides/getting-started/ui-tutorial/querying-vstorage.html)[5. Making an Offer](/guides/getting-started/ui-tutorial/making-an-offer.html)[6. Conclusion](/guides/getting-started/ui-tutorial/conclusion.html)

Support
-------

[Agoric](https://agoric.com/)[Discord](https://agoric.com/discord)[Discussions (Q&A)](https://github.com/Agoric/agoric-sdk/discussions)[Office Hours](https://github.com/Agoric/agoric-sdk/wiki/Office-Hours)[Twitter](https://twitter.com/agoric)[YouTube](https://www.youtube.com/channel/UCpY91oQLh_Lp0mitdZ5bYWg/)[Github](https://github.com/Agoric/)On this page

AmountMath [​](#amountmath)
===========================

![AmountMath methods](/assets/amount-math.DFzv5oHK.svg)

Depositing and withdrawing assets from a `purse` and manipulating `payment` amounts all require adding and subtracting digital assets. ERTP uses the `AmountMath` library for all these operations.

The `AmountMath` library functions work for both fungible and nonfungible tokens. There are two `AssetKinds`, each of which implements the same methods. Which kind is used for a particular `brand` depends on what was specified when the `brand` and its `issuer` were created. They are:

* `AssetKind.NAT` ("nat"): Used with fungible assets. Values are natural numbers using the JavaScript [BigInt](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt) type to avoid overflow risks from using the usual JavaScript `Number` type.
* `AssetKind.SET` ("set"): Used with non-fungible assets. Values are [copyArray](./../js-programming/far.html#passstyleof-api)s such as hardened arrays of strings.

AmountMath Methods [​](#amountmath-methods)
-------------------------------------------

The following is a brief description and example of each `AmountMath` method. For more detail, click the method's name to go to its entry in the [ERTP API Reference](/reference/ertp-api/).

Note that many methods have a `brand` argument, either required or optional. Where optional, use the `brand` you got from an issuer (or from Zoe) to add verification that the `brand` of "amount" argument(s) corresponds with that `brand`.

* **Information Getting Methods**
  + [AmountMath.getValue(brand, amount)](/reference/ertp-api/amount-math.html#amountmath-getvalue-brand-amount)
    - Returns the `value` of the `amount` argument. For fungible assets, this will be a `BigInt`.
    - js
      ```
      const { brand: quatloosBrand } = makeIssuerKit('quatloos');
      const quatloos123 = AmountMath.make(quatloosBrand, 123n);
      // returns 123
      const value = AmountMath.getValue(quatloosBrand, quatloos123);
      ```
* **Comparison Methods**
  + [AmountMath.isEmpty(amount, brand?)](/reference/ertp-api/amount-math.html#amountmath-isempty-amount-brand)
    - Returns `true` if its `amount` argument is empty, otherwise `false`. Throws an error if the optional `brand` argument isn't the same as the `amount` argument brand.
    - js
      ```
      const { brand: quatloosBrand } = makeIssuerKit('quatloos');
      const empty = AmountMath.makeEmpty(quatloosBrand, AssetKind.NAT);
      const quatloos1 = AmountMath.make(quatloosBrand, 1n);
      // returns true
      AmountMath.isEmpty(empty);
      // returns false
      AmountMath.isEmpty(quatloos1);
      ```
  + [AmountMath.isGTE(leftAmount, rightAmount, brand?)](/reference/ertp-api/amount-math.html#amountmath-isgte-leftamount-rightamount-brand)
    - Returns `true` if the `leftAmount` argument is greater than or equal to the `rightAmount` argument, otherwise `false`. Throws an error if the optional `brand` argument isn't the same as the `amount` arguments brands.
    - js
      ```
      const { brand: quatloosBrand } = makeIssuerKit('quatloos');
      const empty = AmountMath.makeEmpty(quatloosBrand, AssetKind.NAT);
      const quatloos1 = AmountMath.make(quatloosBrand, 1n);
      // Returns true
      AmountMath.isGTE(quatloos1, empty);
      // Returns false
      AmountMath.isGTE(empty, quatloos1);
      ```
  + [AmountMath.isEqual(leftAmount, rightAmount, brand?)](/reference/ertp-api/amount-math.html#amountmath-isequal-leftamount-rightamount-brand)
    - Returns `true` if the `leftAmount` argument equals the `rightAmount` argument. Throws an error if the optional `brand` argument isn't the same as the `amount` arguments brands.
    - js
      ```
      const { brand: quatloosBrand } = makeIssuerKit('quatloos');
      const empty = AmountMath.makeEmpty(quatloosBrand, AssetKind.NAT);
      const quatloos1 = AmountMath.make(quatloosBrand, 1n);
      const anotherQuatloos1 = AmountMath.make(quatloosBrand, 1n);
      
      // Returns true
      AmountMath.isEqual(quatloos1, anotherQuatloos1);
      // Returns false
      AmountMath.isEqual(empty, quatloos1);
      ```
  + [AmountMath.coerce(brand, allegedAmount)](/reference/ertp-api/amount-math.html#amountmath-coerce-brand-allegedamount)
    - Takes an `amount` and returns it if it's a valid `amount`. If invalid, it throws an error.
    - js
      ```
      const { brand: quatloosBrand } = makeIssuerKit('quatloos');
      const quatloos50 = AmountMath.make(quatloosBrand, 50n);
      AmountMath.coerce(quatloosBrand, quatloos50); // equal to quatloos50
      ```
* **Manipulator Methods**
  + [AmountMath.add(leftAmount, rightAmount, brand?)](/reference/ertp-api/amount-math.html#amountmath-add-leftamount-rightamount-brand)
    - Returns an `amount` that is the union of the `leftAmount` and `rightAmount``amount` arguments. For a fungible `amount`, this means add their values. For a non-fungible `amount`, it usually means including all elements from both `leftAmount` and `rightAmount`. Throws an error if the optional `brand` argument isn't the same as the `amount` arguments brands.
    - js
      ```
      const { brand: myItemsBrand } = makeIssuerKit('myItems', 'set');
      const listAmountA = AmountMath.make(myItemsBrand, harden(['1', '2', '4']));
      const listAmountB = AmountMath.make(myItemsBrand, harden(['3']));
      
      // Returns an amount containing all of ['1', '2', '4', '3']
      const combinedList = AmountMath.add(listAmountA, listAmountB);
      ```
  + [AmountMath.subtract(leftAmount, rightAmount, brand?)](/reference/ertp-api/amount-math.html#amountmath-subtract-leftamount-rightamount-brand)
    - Returns a new `amount` that is the `leftAmount` argument minus the `rightAmount` argument (i.e., for strings or objects everything in `leftAmount` not in `rightAmount`). If `leftAmount` doesn't include the contents of `rightAmount`, it throws an error. It also throws an error if the optional `brand` argument isn't the same as the `amount` arguments brands.
    - js
      ```
      const { brand: myItemsBrand } = makeIssuerKit('myItems', 'set');
      const listAmountA = AmountMath.make(myItemsBrand, harden(['1', '2', '4']));
      const listAmountB = AmountMath.make(myItemsBrand, harden(['3']));
      const listAmountC = AmountMath.make(myItemsBrand, harden(['2']));
      // Returns ['1', '4']
      const subtractedList = AmountMath.subtract(listAmountA, listAmountC);
      // Throws error
      t.throws(() => AmountMath.subtract(listAmountA, listAmountB), {
        message: /right element .* was not in left/,
      });
      ```
* **Amount Creation Methods**
  + [AmountMath.make(brand, allegedValue)](/reference/ertp-api/amount-math.html#amountmath-make-brand-allegedvalue)
    - Takes a `value` argument and returns an `amount` by making a record with the `value` and the `brand` associated with the `AmountMath`. The `value` argument should be represented as a `BigInt` e.g. `10n` rather than `10`.
    - js
      ```
      const { brand: quatloosBrand } = makeIssuerKit('quatloos');
      /// An `amount` with `value` = 837 and `brand` = Quatloos
      const quatloos837 = AmountMath.make(quatloosBrand, 837n);
      const anotherQuatloos837 = harden({ brand: quatloosBrand, value: 837n });
      t.deepEqual(quatloos837, anotherQuatloos837);
      ```
  + [AmountMath.makeEmpty(brand, assetKind)](/reference/ertp-api/amount-math.html#amountmath-makeempty-brand-assetkind)
    - Returns an `amount` representing an empty `amount`, which is the identity element for the `AmountMath` `add()` and `subtract()` operations. Note that this value varies depending on the `brand` and whether it is of kind `AssetKind.NAT` or `AssetKind.SET`.
    - js
      ```
      const { brand: quatloosBrand } = makeIssuerKit('quatloos');
      // Returns an empty amount for this issuer.
      // Since this is a fungible amount it returns 0
      const empty = AmountMath.makeEmpty(quatloosBrand, AssetKind.NAT);
      ```
  + [AmountMath.makeEmptyFromAmount(amount)](/reference/ertp-api/amount-math.html#amountmath-makeemptyfromamount-amount)
    - Returns an `amount` representing an empty `amount`, using another `amount` as the template for the new empty amount's `brand` and `assetKind`.
    - js
      ```
      const { brand: quatloosBrand } = makeIssuerKit('quatloos');
      // Returns an empty amount for this issuer.
      // Since this is a fungible amount it returns 0
      const empty = AmountMath.makeEmpty(quatloosBrand, AssetKind.NAT);
      // quatloosAmount837 = { value: 837n, brand: quatloos }
      const quatloosAmount837 = AmountMath.make(quatloosBrand, 837n);
      // Returns an amount = { value: 0n, brand: quatloos }
      const quatloosAmount0 = AmountMath.makeEmptyFromAmount(quatloosAmount837);
      ```

Methods On Other Objects [​](#methods-on-other-objects)
-------------------------------------------------------

These methods return an **[AssetKind](/reference/ertp-api/ertp-data-types.html#assetkind)**:

* [anIssuer.getAssetKind()](/reference/ertp-api/issuer.html#anissuer-getassetkind)
  + Returns the `AssetKind` of the `issuer`'s `brand`. (`AssetKind.NAT` or `AssetKind.SET`).
  + js
    ```
    const myAssetKind = quatloosIssuer.getAssetKind();
    ```
* [zcf.getAssetKind(brand)](/reference/zoe-api/zoe-contract-facet.html#zcf-getassetkind-brand)
  + Returns the `AssetKind` of the `brand` argument.
  + js
    ```
    const quatloosAssetKind = zcf.getAssetKind(quatloosBrand);
    ```
 [Help us improve this page!](https://github.com/Agoric/documentation/edit/main/main/guides/ertp/amount-math.md)

Last Updated: 

Pager[Previous pageAmounts, Values, and Brands](/guides/ertp/amounts.html)[Next pageIssuers and Mints](/guides/ertp/issuers-and-mints.html)

© 2024 Agoric Systems Operating Company. All Rights Reserved.



